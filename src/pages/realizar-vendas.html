<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Comercial São José | Realizar Vendas</title>
    <link rel="stylesheet" href="../styles/common.css" />
    <link rel="stylesheet" href="../styles/realizar-vendas.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="sidebar">
      <h2><a href="./index.html">São José</a></h2>
      <div class="user-info">
        <img src="../assets/user-avatar.png" alt="Avatar do usuário" class="user-avatar" />
        <span class="user-name">Nome do Usuário</span>
      </div>
      <nav>
        <ul>
          <li><a href="index.html"><i class="fas fa-home"></i> Painel de Controle</a></li>
          <li><a href="cadastro-produtos.html"><i class="fas fa-box"></i> Cadastro de Produtos</a></li>
          <li><a href="vendas.html"><i class="fas fa-chart-line"></i> Vendas</a></li>
          <li class="active"><a href="realizar-vendas.html"><i class="fas fa-cash-register"></i> Realizar Vendas</a></li>
          <li><a href="entrada-saida.html"><i class="fas fa-exchange-alt"></i> Entrada e Saída</a></li>
          <li><a href="controle-estoque.html"><i class="fas fa-warehouse"></i> Controle de Estoque</a></li>
          <li><a href="estoque.html"><i class="fas fa-clipboard-list"></i> Estoque</a></li>
        </ul>
      </nav>
    </div>

    <main class="main-content">
      <header>
        <h1>Realizar Vendas</h1>
        <div class="user-actions">
          <button class="btn-icon" title="Notificações"><i class="fas fa-bell"></i></button>
          <button class="btn-icon" title="Configurações"><i class="fas fa-cog"></i></button>
          <button class="btn-icon" title="Sair"><i class="fas fa-sign-out-alt"></i></button>
        </div>
      </header>

      <div class="sales-container">
        <section class="sales-form-container">
          <h2>Adicionar Produto</h2>
          <form id="salesForm" class="sales-form">
            <div class="form-group">
              <label for="product-search">Buscar Produto:</label>
              <div class="input-group">
                <i class="fas fa-search"></i>
                <input
                  type="text"
                  id="product-search"
                  name="product-search"
                  placeholder="Digite o nome ou código do produto"
                />
              </div>
            </div>
            <div class="form-group">
              <label for="product">Produto:</label>
              <div class="input-group">
                <i class="fas fa-box"></i>
                <select id="product" name="product" required>
                  <option value="">Selecione um produto</option>
                  <!-- Opções de produtos serão adicionadas dinamicamente -->
                </select>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="quantity">Quantidade:</label>
                <div class="input-group">
                  <i class="fas fa-sort-numeric-up"></i>
                  <input type="number" id="quantity" name="quantity" required min="1" />
                </div>
              </div>
              <div class="form-group">
                <label for="unit-price">Preço Unitário:</label>
                <div class="input-group">
                  <i class="fas fa-tag"></i>
                  <input type="number" id="unit-price" name="unit-price" step="0.01" readonly />
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="total-price">Preço Total:</label>
              <div class="input-group">
                <i class="fas fa-dollar-sign"></i>
                <input type="number" id="total-price" name="total-price" step="0.01" readonly />
              </div>
            </div>
            <button type="submit" class="btn btn-primary btn-submit">
              <i class="fas fa-cart-plus"></i> Adicionar ao Carrinho
            </button>
          </form>
        </section>

        <section class="cart-container">
          <h2>Carrinho de Compras</h2>
          <div class="table-responsive">
            <table id="cartTable">
              <thead>
                <tr>
                  <th>Produto</th>
                  <th>Quantidade</th>
                  <th>Preço Unitário</th>
                  <th>Total</th>
                  <th>Ações</th>
                </tr>
              </thead>
              <tbody>
                <!-- Itens do carrinho serão adicionados aqui dinamicamente -->
              </tbody>
            </table>
          </div>
          <div class="cart-summary">
            <div class="cart-totals">
              <p>Subtotal: R$ <span id="cartSubtotal">0.00</span></p>
              <div class="discount-container">
                <label for="discount">Desconto (%):</label>
                <div class="input-group">
                  <i class="fas fa-percent"></i>
                  <input type="number" id="discount" name="discount" min="0" max="100" step="0.1" value="0" />
                </div>
              </div>
              <p>Desconto: R$ <span id="discountAmount">0.00</span></p>
              <p class="total">Total da Venda: R$ <span id="cartTotal">0.00</span></p>
            </div>
            <button id="finalizeSale" class="btn btn-success btn-finalize">
              <i class="fas fa-check-circle"></i> Finalizar Venda
            </button>
          </div>
        </section>
      </div>
    </main>

    <footer>
      <p>&copy; 2024 Comercial São José. Todos os direitos reservados.</p>
      <p>Desenvolvido por FGenius</p>
    </footer>

    <script type="module" src="../js/common.js"></script>
    <script type="module" src="../js/dataManager.js"></script>
    <script type="module" src="../js/realizar-vendas.js"></script>
  </body>
</html>
